(()=>{"use strict";var e,o={711:()=>{const e=window.wp.blocks,o=window.wp.blockEditor,i=window.wp.i18n,s=window.wp.components,l=JSON.parse('{"UU":"custom-blocks/piccy-gallery","KR":"my-custom-blocks"}'),c=window.wp.element,t=window.wp.data,r=window.ReactJSXRuntime,n=e=>{const o=(i=e.imageId,(0,t.useSelect)(e=>e("core").getEntityRecord("postType","attachment",i),[i]));var i;return console.log("props: ",e),o?.source_url?(0,r.jsx)("img",{style:{display:"inlineBlock",objectFit:"cover",height:e.height||150,width:"100%",pointerEvents:"visible"},className:e.className,onClick:e.onClick,src:o.source_url}):null};(0,e.registerBlockType)(l.UU,{edit:function(e){const a=(0,o.useBlockProps)(),d=(0,o.useInnerBlocksProps)({className:"piccy-gallery-inner-blocks"},{allowedBlocks:["custom-blocks/piccy-image"]}),[m,p]=(0,c.useState)(!0),u=m?"welcome-view-site":"edit",g=m?"preview gallery":"edit gallery",h=(0,t.useSelect)(o=>{const{getBlocksByClientId:i}=o("core/block-editor"),s=i(e.clientId)?.[0];return s?.innerBlocks},[e.clientId]),[v,b]=(0,c.useState)({imageId:h?.[0]?.attributes?.imageId,blockId:h?.[0]?.clientId});return console.log("previewModeImage: ",v),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.BlockControls,{children:(0,r.jsx)(s.ToolbarGroup,{children:(0,r.jsx)(s.ToolbarButton,{icon:(0,r.jsx)(s.Icon,{icon:u}),label:(0,i.__)(g,l.KR),onClick:()=>p(e=>!e)})})}),(0,r.jsxs)("div",{...a,children:[m&&(0,r.jsxs)("div",{className:"edit-mode",children:[(0,r.jsx)("span",{className:"piccy-label",children:(0,i.__)("Piccy image gallery",l.KR)}),(0,r.jsx)("div",{...d})]}),!m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"preview-mode",children:(h||[]).map(e=>(console.log("item: ",e),(0,r.jsx)(n,{className:"thumb "+(e.clientId===v.blockId?"selected":""),height:75,onClick:o=>{b({imageId:e.attributes.imageId,blockId:e.clientId})},imageId:e.attributes.imageId},e.clientId)))}),(0,r.jsx)("div",{children:(0,r.jsx)(n,{height:"initial",imageId:v?.imageId})})]})]})]})},save:()=>{const e=o.useBlockProps.save(),{children:i}=o.useInnerBlocksProps.save(e);return i}})}},i={};function s(e){var l=i[e];if(void 0!==l)return l.exports;var c=i[e]={exports:{}};return o[e](c,c.exports,s),c.exports}s.m=o,e=[],s.O=(o,i,l,c)=>{if(!i){var t=1/0;for(d=0;d<e.length;d++){for(var[i,l,c]=e[d],r=!0,n=0;n<i.length;n++)(!1&c||t>=c)&&Object.keys(s.O).every(e=>s.O[e](i[n]))?i.splice(n--,1):(r=!1,c<t&&(t=c));if(r){e.splice(d--,1);var a=l();void 0!==a&&(o=a)}}return o}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[i,l,c]},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={565:0,177:0};s.O.j=o=>0===e[o];var o=(o,i)=>{var l,c,[t,r,n]=i,a=0;if(t.some(o=>0!==e[o])){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(n)var d=n(s)}for(o&&o(i);a<t.length;a++)c=t[a],s.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return s.O(d)},i=globalThis.webpackChunkmy_custom_blocks=globalThis.webpackChunkmy_custom_blocks||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))})();var l=s.O(void 0,[177],()=>s(711));l=s.O(l)})();